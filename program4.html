<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prog1 and Prog2 - SQL Operations</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
            padding: 20px;
        }
        h1 {
            text-align: center;
        }
        pre {
            background-color: #2e2e2e;
            color: #fff;
            padding: 20px;
            border-radius: 5px;
            white-space: pre-wrap;
            word-wrap: break-word;
        }
    </style>
</head>
<body>
    <h1>Java Code for SQL Operations</h1>

    <section>
        <h2>Prog1</h2>
        <pre>
import java.io.IOException;
import java.io.PrintWriter;
import javax.servlet.ServletException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

public class GreetServlet extends HttpServlet {

    protected void doPost(HttpServletRequest request, HttpServletResponse response) 
            throws ServletException, IOException {
        response.setContentType("text/html");
        PrintWriter out = response.getWriter();
        
        String username = request.getParameter("username");
        String password = request.getParameter("password");
        String confirmPassword = request.getParameter("confirmPassword");

        if (password.length() < 8) {
            out.println("<h3>Password must be at least 8 characters long.</h3>");
            return;
        }
        
        if (password.equals(confirmPassword)) {
            out.println("<h3>Welcome, " + username + "!</h3>");
            out.println("<p>You have successfully registered.</p>");
        } else {
            out.println("<h3>Passwords do not match. Please try again.</h3>");
        }
    }

    protected void doGet(HttpServletRequest request, HttpServletResponse response) 
            throws ServletException, IOException {
        response.sendRedirect("register.html");
    }
}
        </pre>

        <h3>HTML Form for Prog1</h3>
        <pre>
<!DOCTYPE html>
<html>
<head>
    <title>User Registration</title>
</head>
<body>
    <h2>User Registration</h2>
    <form action="GreetServlet" method="post">
        <label for="username">Username:</label>
        <input type="text" id="username" name="username" required><br><br>

        <label for="password">Password:</label>
        <input type="password" id="password" name="password" minlength="8" required><br><br>

        <label for="confirmPassword">Confirm Password:</label>
        <input type="password" id="confirmPassword" name="confirmPassword" minlength="8" required><br><br>

        <input type="submit" value="Register">
    </form>
</body>
</html>
        </pre>
    </section>

    <section>
        <h2>Prog2</h2>
        <pre>
import java.io.IOException;
import java.io.PrintWriter;
import java.time.LocalDate;
import java.time.Period;
import javax.servlet.ServletException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

public class VoterEligibilityServlet extends HttpServlet {

    protected void doPost(HttpServletRequest request, HttpServletResponse response) 
            throws ServletException, IOException {
        response.setContentType("text/html");
        PrintWriter out = response.getWriter();

        String firstName = request.getParameter("firstName");
        String lastName = request.getParameter("lastName");
        String email = request.getParameter("email");
        String dob = request.getParameter("dob"); // format: YYYY-MM-DD

        LocalDate birthDate = LocalDate.parse(dob);
        LocalDate currentDate = LocalDate.now();
        
        // Calculate age
        int age = Period.between(birthDate, currentDate).getYears();

        out.println("<h2>Voter Eligibility Check</h2>");
        out.println("<p>Name: " + firstName + " " + lastName + "</p>");
        out.println("<p>Email: " + email + "</p>");
        out.println("<p>Date of Birth: " + dob + "</p>");
        out.println("<p>Age: " + age + "</p>");

        if (age >= 18) {
            out.println("<h3>You are eligible to vote!</h3>");
        } else {
            out.println("<h3>Sorry, you are not eligible to vote. You must be at least 18 years old.</h3>");
        }
    }
}
        </pre>

        <h3>HTML Form for Prog2</h3>
        <pre>
<!DOCTYPE html>
<html>
<head>
    <title>Voter Eligibility Check</title>
</head>
<body>
    <h2>Voter Eligibility Check</h2>
    <form action="VoterEligibilityServlet" method="post">
        <label for="firstName">First Name:</label>
        <input type="text" id="firstName" name="firstName" required><br><br>

        <label for="lastName">Last Name:</label>
        <input type="text" id="lastName" name="lastName" required><br><br>

        <label for="email">Email:</label>
        <input type="email" id="email" name="email" required><br><br>

        <label for="dob">Date of Birth:</label>
        <input type="date" id="dob" name="dob" required><br><br>

        <input type="submit" value="Check Eligibility">
    </form>
</body>
</html>
        </pre>
    </section>

    <section>
        <h2>Prog3</h2>
        <pre>
import java.io.IOException;
import java.io.PrintWriter;
import javax.servlet.ServletException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

public class CgpaCalculatorServlet extends HttpServlet {

    protected void doPost(HttpServletRequest request, HttpServletResponse response) 
            throws ServletException, IOException {
        response.setContentType("text/html");
        PrintWriter out = response.getWriter();

        String usn = request.getParameter("usn");
        String name = request.getParameter("name");
        String sgpaValues = request.getParameter("sgpa"); // comma-separated SGPA values

        // Split SGPA values and parse them to calculate CGPA
        String[] sgpaArray = sgpaValues.split(",");
        double sum = 0;
        int count = 0;

        try {
            for (String sgpa : sgpaArray) {
                sum += Double.parseDouble(sgpa.trim());
                count++;
            }

            double cgpa = sum / count;

            // Display the results
            out.println("<h2>CGPA Calculation Result</h2>");
            out.println("<p>USN: " + usn + "</p>");
            out.println("<p>Name: " + name + "</p>");
            out.println("<p>SGPA values: " + sgpaValues + "</p>");
            out.println("<h3>Calculated CGPA: " + String.format("%.2f", cgpa) + "</h3>");
            
        } catch (NumberFormatException e) {
            out.println("<h3>Error: Invalid SGPA format. Please enter valid numbers separated by commas.</h3>");
        }
    }
}
        </pre>

        <h3>HTML Form for Prog3</h3>
        <pre>
<!DOCTYPE html>
<html>
<head>
    <title>CGPA Calculator</title>
</head>
<body>
    <h2>Calculate Your CGPA</h2>
    <form action="CgpaCalculatorServlet" method="post">
        <label for="usn">USN:</label>
        <input type="text" id="usn" name="usn" required><br><br>

        <label for="name">Name:</label>
        <input type="text" id="name" name="name" required><br><br>

        <label for="sgpa">Enter SGPA for each semester (comma separated):</label>
        <input type="text" id="sgpa" name="sgpa" placeholder="e.g., 8.5, 9.0, 7.8" required><br><br>

        <input type="submit" value="Calculate CGPA">
    </form>
</body>
</html>
        </pre>
    </section>

</body>
</html>
